# スマートコントラクト

RapidWireにおけるスマートコントラクトは、お金の動きをプログラムで制御するための仕組みです。
「AさんがBさんに送金する」という単純な操作だけでなく、「もし明日晴れたらAさんに送金する」「3人が承認したら金庫を開ける」といった複雑な条件をプログラムとして記述し、自動実行させることができます。

## RapidWireコントラクトの特徴

### 1. Pythonで記述可能
Ethereumなどのブロックチェーンでは、Solidityなどの特殊な言語を覚える必要がありますが、RapidWireのコントラクトは、世界で最も人気のあるプログラミング言語の一つである **Python** で記述できます。
（※セキュリティとパフォーマンスのため、使用できる機能には一部制限があります）

### 2. トラストレス（信頼不要）
コントラクトは一度デプロイ（設置）されると、そのコード通りに厳密に動作します。
例えば、「誰かが100コインを入れたら、自動的にアイテムを渡す」という自動販売機のコントラクトを作った場合、その動作はプログラムによって保証されます。所有者がこっそりお金だけ持ち逃げすることは（コードにそう書かれていない限り）できません。
これにより、相手を信用しなくても取引が可能になります。

### 3. ステートフル（状態を持つ）
コントラクトは自分専用の「記憶領域（ストレージ）」を持っています。
「これまでに何回実行されたか」「誰が会員権を持っているか」「現在のジャックポットの金額はいくらか」といった情報を永続的に保存できます。

### 4. 他のコントラクトとの連携
あるコントラクトから別のコントラクトを呼び出すことができます。
これにより、LEGOブロックのように機能を組み合わせて、巨大なシステムを構築することが可能です。

## 何ができるのか？

アイデア次第で無限のアプリケーションを作成できます。

- **自動販売機**: お金を受け取って、Discordのロール（役職）を自動付与する。
- **ギャンブル**: コインを賭けて、確率で倍になって返ってくるスロットマシン。
- **DAO（自律分散型組織）**: メンバーの投票によってのみ資金が動かせる共有ウォレット。
- **定期払い**: 毎月一定額を自動でサブスクリプション支払いするシステム。
- **独自トークンエコノミー**: ゲームのスコアや貢献度に応じてトークンを配布するロジック。

## 仕組みの概要

1.  **コーディング**: ユーザーはPythonでロジックを書きます。
2.  **コンパイル**: RapidWireのコンパイラが、Pythonコードを独自の「命令セット（JSON形式）」に変換します。
3.  **デプロイ**: 変換された命令セットをRapidWireネットワークに登録します。
4.  **実行**: 他のユーザーがコントラクトに対して送金したり、データを送ったりすると、RapidWireの仮想マシン（VM）が命令を一行ずつ実行します。

## 安全性について

コントラクトは強力ですが、バグがあると資金が失われるリスクもあります。RapidWireでは以下の安全策が講じられています。

- **Gas（実行コスト）制限**: 無限ループなどでサーバーが停止しないよう、実行できる命令数には上限があります。
- **サンドボックス化**: コントラクトは隔離された環境で実行され、サーバーのファイルシステムや外部ネットワークへの直接アクセスは制限されています（Discord APIなど、許可された操作のみ可能です）。

---

技術的な詳細や書き方については、[開発者ガイド](../developer/smart_contracts/getting_started.md) を参照してください。
